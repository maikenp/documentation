

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Compilers &mdash; Sigma2 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/sigma2.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Debugging" href="debugging.html" />
    <link rel="prev" title="Software environment on Betzy" href="betzy.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Sigma2/Metacenter documentation
          

          
            
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">News</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://opslog.sigma2.no">Latest changes and events</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.sigma2.no/hardware-status">Hardware live status</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting help</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_help/support_line.html">Support line</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_help/how_to_write_good_support_requests.html">Writing good support requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_help/qa-sessions.html">Open Question &amp; Answer Sessions for All Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_help/lost_forgotten_password.html">Lost or expiring password</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_help/project_leader_support.html">Project leader support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_help/advanced_user_support.html">Advanced User Support (AUS)</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/applying_account.html">How do I get an HPC account?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/applying_resources.html">Applying for computing and storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/training.html">Training material</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/editing_files.html">Editing files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/create_ssh_keys.html">SSH</a></li>
</ul>
<p class="caption"><span class="caption-text">Services</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../nird_archive/user-guide.html">Research data archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nird_toolkit/overview.html">NIRD Toolkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../services/easydmp-user-documentation.html">EasyDMP User Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_help/course_resources.html">CRaaS - Course Resources as a Service</a></li>
</ul>
<p class="caption"><span class="caption-text">High-performance computing</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../hpc_machines/hardware_overview.html">Overview over our machines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hpc_machines/betzy.html">Betzy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hpc_machines/fram.html">Fram</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hpc_machines/saga.html">Saga</a></li>
<li class="toctree-l1"><a class="reference external" href="https://hpc-uit.readthedocs.io">Stallo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hpc_machines/migration2metacenter.html">Migration to a Metacenter HPC machine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../jobs/overview.html">Job types and job scripts</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="overview.html">Code development</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="building.html">Building scientific software</a></li>
<li class="toctree-l2"><a class="reference internal" href="betzy.html">Software environment on Betzy</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Compilers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#compiling-mpi-applications">Compiling MPI Applications</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#intel-mpi">Intel MPI</a></li>
<li class="toctree-l4"><a class="reference internal" href="#open-mpi">Open MPI</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="debugging.html">Debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="performance.html">Performance Analysis and Tuning</a></li>
<li class="toctree-l2"><a class="reference internal" href="guides.html">Guides</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../computing/tuning-applications.html">Tuning applications</a></li>
</ul>
<p class="caption"><span class="caption-text">Software</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../software/modulescheme.html">Software Module Scheme</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/installed_software.html">Installed Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/userinstallsw.html">Installing software as user</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/containers.html">Running Singularity and Docker containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/appguides.html">Application guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/licenses.html">Licenses and access policies</a></li>
</ul>
<p class="caption"><span class="caption-text">Files and Storage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../files_storage/nird.html">NIRD - National Infrastructure for Research Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../files_storage/clusters.html">Storage areas on HPC clusters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../files_storage/backup.html">Backup on Betzy, Fram, Saga, and NIRD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../files_storage/sharing_files.html">Data handling and storage policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../files_storage/file_transfer.html">File transfer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../files_storage/performance.html">Storage performance tuning</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Sigma2/Metacenter documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="overview.html">Code development</a> &raquo;</li>
        
      <li>Compilers</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/UNINETTSigma2/documentation/blob/master/code_development/compilers.md" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="compilers">
<h1>Compilers<a class="headerlink" href="#compilers" title="Permalink to this headline">¶</a></h1>
<div class="section" id="compiling-mpi-applications">
<h2>Compiling MPI Applications<a class="headerlink" href="#compiling-mpi-applications" title="Permalink to this headline">¶</a></h2>
<div class="section" id="intel-mpi">
<h3>Intel MPI<a class="headerlink" href="#intel-mpi" title="Permalink to this headline">¶</a></h3>
<p>The following table shows available Intel MPI compiler commands, the underlying Intel and GNU compilers, and ways to override underlying compilers with environment variables or command line options:</p>
<table>
<thead>
<th align="left">Language</th>
<th align="left">Wrapper script</th>
<th align="left">Default compiler</th>
<th align="left">Environment variable</th>
<th align="left">Command line</th>
</thead>
<tbody>
<tr>
<td rowspan="2" align="left" valign="middle">C</td>
<td><code class="code">mpiicc</code></td>
<td><code class="code">icc</code></td>
<td rowspan="2">I_MPI_CC</td>
<td rowspan="2"><code class="code">-cc</code>=&lt;compiler&gt;</td>
</tr>
<tr>
<td><code class="code">mpigcc</code></td>
<td><code class="code">gcc</code></td>
</tr>
<tr>
<td rowspan="2">C++</td>
<td><code class="code">mpiicpc</code></td>
<td><code class="code">icpc</code></td>
<td rowspan="2">I_MPI_CXX</td>
<td rowspan="2"><code class="code">-cxx</code>=&lt;compiler&gt;</td>
</tr>
<tr>
<td><code class="code">mpigxx</code></td>
<td><code class="code">g++</code></td>
</tr>
<tr>
<td rowspan="2">Fortran</td>
<td><code class="code">mpiifort</code></td>
<td><code class="code">ifort</code></td>
<td rowspan="2">I_MPI_FC</td>
<td rowspan="2"><code class="code">-fc</code>=&lt;compiler&gt;</td>
</tr>
<tr>
<td><code class="code">mpifc</code></td>
<td><code class="code">gfortran</code></td>
</tr>
</tbody>
</table>
<p>Specify option <code class="docutils literal notranslate"><span class="pre">-show</span></code> with one of the compiler wrapper scripts to see the underlying compiler together with compiler options, link flags and libraries.</p>
<p>The Intel MPI toolchain is loaded by using <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">load</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>module load intel/2017a
</pre></div>
</div>
<p>Please see also <a class="reference internal" href="../jobs/guides/running_mpi_jobs.html#running-mpi-applications"><span class="std std-ref">Running MPI Applications</span></a>.</p>
</div>
<div class="section" id="open-mpi">
<h3>Open MPI<a class="headerlink" href="#open-mpi" title="Permalink to this headline">¶</a></h3>
<p>The Open MPI compiler wrapper scripts listed in the table below add in all relevant compiler and link flags, and the invoke the underlying compiler, i.e. the compiler the Open MPI installation was built with.</p>
<table>
<thead>
<th align="left">Language</th>
<th align="left">Wrapper script</th>
<th align="left">Environment variable</th>
</thead>
<tbody>
<tr>
<td>C</td>
<td><code class="code">mpicc</code></td>
<td>OMPI_CC</td>
</tr>
<tr>
<td>C++</td>
<td><code class="code">mpiCC, mpicxx, mpic++</code></td>
<td>OMPI_CXX</td>
</tr>
<tr>
<td>Fortran</td>
<td><code class="code">mpifort</code></td>
<td>OMPI_FC</td>
</tr>
</tbody>
</table>
<p>It is possible to change the underlying compiler invoked when calling the compiler wrappers using the environment variables listed in the table. Use the option <code class="docutils literal notranslate"><span class="pre">-showme</span></code> to see the underlying compiler, the compile and link flags, and the libraries that are linked.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="debugging.html" class="btn btn-neutral float-right" title="Debugging" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="betzy.html" class="btn btn-neutral float-left" title="Software environment on Betzy" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Sigma2/Metacenter.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>